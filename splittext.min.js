function SplitText(s,e){function t(s){if("object"==typeof s&&null!==s){var e={};for(var i in s)e[i]=t(s[i]);return e}return s}function i(s,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(s.className)}function o(s,e){i(s,e)||(s.className+=" "+e)}function r(s){var s=s,e=0,t=0,i=0,o=0;if(s.offsetParent){do s.offsetParent&&s.offsetParent==document.getElementsByTagName("html")[0],e+=s.offsetTop,t+=s.offsetParent?s.offsetParent.scrollTop:0,i+=s.offsetLeft,o+=s.offsetParent?s.offsetParent.scrollLeft:0;while(s=s.offsetParent);return[i-o,e-t]}}function l(s,e){var t="<div style='display:inline-block;'>",i="</div>";s.innerHTML=t+s.innerHTML.replaceAll(" ",i+" "+t)+i;for(var l=s.querySelectorAll("div"),n=0;n<l.length;n++){if(void 0!==e.vars.wordsClass&&"undefined"!=e.vars.wordsClass&&o(l[n],e.vars.wordsClass.replaceAll("++",n+1)),null!==e.vars.position)if("absolute"==e.vars.position)l[n].toBe={top:l[n].offsetTop,left:l[n].offsetLeft},l[n].style.position="relative";else if("fixed"==e.vars.position){var a=r(l[n]);l[n].toBe={top:a[1],left:a[0]},l[n].style.position="relative"}else l[n].style.position=e.vars.position;y.words.push(l[n])}}function n(s,e){var t="<div style='display:inline-block;'>",i="</div>";s.innerHTML=t+s.innerHTML.split("").join(i+t)+i;for(var l=s.querySelectorAll("div"),n=0;n<l.length;n++){if(void 0!==e.vars.charsClass&&"undefined"!=e.vars.charsClass){var a=e.vars.charsClass.replaceAll("++",n+1);a=n!=l.length-1?a.replaceAll("**",l[n].innerHTML+l[n+1].innerHTML):a.replaceAll("**",""),o(l[n],a)}if(null!==e.vars.position)if("absolute"==e.vars.position)l[n].toBe={top:l[n].offsetTop,left:l[n].offsetLeft},l[n].style.position="relative";else if("fixed"==e.vars.position){var h=r(l[n]);l[n].toBe={top:h[1],left:h[0]},l[n].style.position="relative"}else l[n].style.position=e.vars.position;y.chars.push(l[n])}}String.prototype.replaceAll=function(s,e){var t=this;return t.split(s).join(e)};var s=s||[],a={type:"chars,words,lines",charsClass:void 0,linesClass:void 0,wordsClass:void 0,position:"relative"};this.HTMLobjects=[],this.vars={},this.originalHTML=[],this.lines=[],this.words=[],this.chars=[],Array.isArray(s)||(s=[s]);for(var h=0;h<s.length;h++){if(1==s[h].nodeType&&this.HTMLobjects.push(s[h]),window.jQuery&&s[h]&&(s[h]instanceof jQuery||s[h].constructor.prototype.jquery))for(var f=0;f<s[h].length;f++)1==s[h][f].nodeType&&this.HTMLobjects.push(s[h][f]);if("string"==typeof s[h]){elements=document.querySelectorAll(s[h]);for(var f=0;f<elements.length;f++)1==elements[f].nodeType&&this.HTMLobjects.push(elements[f])}}if(e&&"object"==typeof e&&null!==e){if(e.type&&"string"==typeof e.type){e.type=e.type.split(",");for(var p=["chars","words","lines"],v=[],h=0;h<e.type.length;h++)-1!=p.indexOf(e.type[h].toLowerCase())&&-1==v.indexOf(e.type[h].toLowerCase())?v.push(e.type[h].toLowerCase()):console.error(e.type[h]+"is not a valid type");0==v.length?this.vars.type=a.type:this.vars.type=v.join(",")}else this.vars.type=a.type;this.vars.charsClass=e.charsClass&&"string"==typeof e.charsClass?e.charsClass:a.charsClass,this.vars.wordsClass=e.wordsClass&&"string"==typeof e.wordsClass?e.wordsClass:a.wordsClass,this.vars.linesClass=e.linesClass&&"string"==typeof e.linesClass?e.linesClass:a.linesClass;var d=["absolute","relative","static","fixed","inherit","initial",null];this.vars.position=e.position&&-1!=d.indexOf(e.position)?e.position:a.position}else this.vars=t(a);for(var h=0;h<this.HTMLobjects.length;h++)this.originalHTML[h]=this.HTMLobjects[h].innerHTML;this.revert=function(){for(var s=0;s<this.HTMLobjects.length;s++)this.HTMLobjects[s].innerHTML=this.originalHTML[s]};this.vars.type=this.vars.type.split(",");for(var h=0;h<this.HTMLobjects.length;h++){var c=this.HTMLobjects[h];c.innerHTML=c.innerHTML.replace(/<\/?[^>]+(>|$)/g,"");var y={lines:[],words:[],chars:[]};if(-1!=this.vars.type.indexOf("lines")){var g=c.innerHTML,u=g.split(" "),w=[];c.innerHTML=u[0];for(var T=c.offsetHeight,f=1;f<u.length;f++)c.innerHTML=c.innerHTML+" "+u[f],c.offsetHeight>T&&(T=c.offsetHeight,w.push(c.innerHTML.length-(u[f].length+1)));w.push(c.innerHTML.length),c.innerHTML="";for(var f=0;f<w.length;f++){var L=0==f?0:w[f-1]+1,H=f==w.length-1?g.length:w[f],C=document.createElement("div");if(C.style.display="block",void 0!==this.vars.linesClass&&"undefined"!=this.vars.linesClass&&(this["class"]=this.vars.linesClass.replace("++",f+1)),C.innerHTML=g.substring(L,H),c.appendChild(C),null!==this.vars.position)if("absolute"==this.vars.position)C.toBe={top:C.offsetTop,left:C.offsetLeft},C.style.position="relative";else if("fixed"==this.vars.position){var M=r(C);C.toBe={top:M[1],left:M[0]},C.style.position="relative"}else C.style.position=this.vars.position;y.lines.push(C)}}if(-1!=this.vars.type.indexOf("words"))if(-1!=this.vars.type.indexOf("lines"))for(var f=0;f<y.lines.length;f++)l(y.lines[f],this);else l(c,this);if(-1!=this.vars.type.indexOf("chars"))if(-1!=this.vars.type.indexOf("words"))for(var f=0;f<y.words.length;f++)n(y.words[f],this);else if(-1!=this.vars.type.indexOf("lines"))for(var f=0;f<y.lines.length;f++)n(y.lines[f],this);else n(c,this);if("absolute"==this.vars.position||"fixed"==this.vars.position){for(var f=y.chars.length-1;f>=0;f--)y.chars[f].style.width=y.chars[f].offsetWidth+"px",y.chars[f].style.height=y.chars[f].offsetHeight+"px",y.chars[f].style.left=y.chars[f].toBe.left+"px",y.chars[f].style.top=y.chars[f].toBe.top+"px";for(var f=y.words.length-1;f>=0;f--)y.words[f].style.width=y.words[f].offsetWidth+"px",y.words[f].style.height=y.words[f].offsetHeight+"px",y.words[f].style.left=y.words[f].toBe.left+"px",y.words[f].style.top=y.words[f].toBe.top+"px";for(var f=y.lines.length-1;f>=0;f--)y.lines[f].style.width=y.lines[f].offsetWidth+"px",y.lines[f].style.height=y.lines[f].offsetHeight+"px",y.lines[f].style.left=y.lines[f].toBe.left+"px",y.lines[f].style.top=y.lines[f].toBe.top+"px";for(var f=y.chars.length-1;f>=0;f--)y.chars[f].style.position=this.vars.position;for(var f=y.words.length-1;f>=0;f--)y.words[f].style.position=this.vars.position;for(var f=y.lines.length-1;f>=0;f--)y.lines[f].style.position=this.vars.position}this.lines=this.lines.concat(y.lines),this.words=this.words.concat(y.words),this.chars=this.chars.concat(y.chars)}}